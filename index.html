<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–°–∏—Å—Ç–µ–º–∞ –∑–∞–ø–∏—Å–∏ –ø–∞—Ü–∏–µ–Ω—Ç–æ–≤</title>
    <script src="https://unpkg.com/vue@3/dist/vue.global.js"></script>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div id="app">
        <div class="container">
            <h1>–°–∏—Å—Ç–µ–º–∞ –∑–∞–ø–∏—Å–∏ –ø–∞—Ü–∏–µ–Ω—Ç–æ–≤</h1>
            
            <!-- –®–∞–≥ 1: –í—ã–±–æ—Ä —Å–ø—Ä–∞–≤–∫–∏ -->
            <div v-if="currentStep === 1" class="step">
                <h2>–í—ã–±–µ—Ä–∏—Ç–µ —Å–ø—Ä–∞–≤–∫—É –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è</h2>
                <div class="certificate-list">
                    <div 
                        v-for="certificate in certificates" 
                        :key="certificate.id"
                        class="certificate-item"
                        @click="selectCertificate(certificate)"
                        :class="{ 'selected': selectedCertificate?.id === certificate.id }"
                    >
                        <h3>{{ certificate.name }}</h3>
                        <p>{{ certificate.description }}</p>
                        <span class="price">{{ certificate.price }} —Ä—É–±.</span>
                    </div>
                </div>
                <button 
                    v-if="selectedCertificate" 
                    @click="nextStep()" 
                    class="btn btn-primary"
                >
                    –ü—Ä–æ–¥–æ–ª–∂–∏—Ç—å
                </button>
            </div>

            <!-- –®–∞–≥ 2: –í—ã–±–æ—Ä —É—Å–ª—É–≥ -->
            <div v-if="currentStep === 2" class="step">
                <h2>–ù–µ–æ–±—Ö–æ–¥–∏–º—ã–µ —É—Å–ª—É–≥–∏ –¥–ª—è —Å–ø—Ä–∞–≤–∫–∏ "{{ selectedCertificate.name }}"</h2>
                <div class="services-list">
                    <div 
                        v-for="service in availableServices" 
                        :key="service.id"
                        class="service-item"
                        @click="selectService(service)"
                        :class="{ 'selected': selectedService?.id === service.id }"
                    >
                        <h3>{{ service.name }}</h3>
                        <p>{{ service.description }}</p>
                        <span class="duration">–î–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å: {{ service.duration }} –º–∏–Ω</span>
                        <span class="price">{{ service.price }} —Ä—É–±.</span>
                    </div>
                </div>
                <div class="navigation">
                    <button @click="prevStep()" class="btn btn-secondary">–ù–∞–∑–∞–¥</button>
                    <button 
                        v-if="selectedService" 
                        @click="nextStep()" 
                        class="btn btn-primary"
                    >
                        –í—ã–±—Ä–∞—Ç—å –≤—Ä–µ–º—è
                    </button>
                </div>
            </div>

            <!-- –®–∞–≥ 3: –í—ã–±–æ—Ä –≤—Ä–µ–º–µ–Ω–∏ –∏–ª–∏ –∂–∏–≤–∞—è –æ—á–µ—Ä–µ–¥—å -->
            <div v-if="currentStep === 3" class="step">
                <h2>–ó–∞–ø–∏—Å—å –Ω–∞ —É—Å–ª—É–≥—É "{{ selectedService.name }}"</h2>
                
                <div class="booking-options">
                    <div class="option-card" @click="bookingType = 'appointment'" :class="{ 'selected': bookingType === 'appointment' }">
                        <h3>üìÖ –ó–∞–ø–∏—Å—å –ø–æ –≤—Ä–µ–º–µ–Ω–∏</h3>
                        <p>–í—ã–±–µ—Ä–∏—Ç–µ —É–¥–æ–±–Ω–æ–µ –≤—Ä–µ–º—è –¥–ª—è –ø—Ä–æ—Ö–æ–∂–¥–µ–Ω–∏—è —É—Å–ª—É–≥–∏</p>
                    </div>
                    
                    <div class="option-card" @click="bookingType = 'queue'" :class="{ 'selected': bookingType === 'queue' }">
                        <h3>üïí –ñ–∏–≤–∞—è –æ—á–µ—Ä–µ–¥—å</h3>
                        <p>–ü—Ä–æ–π–¥–∏—Ç–µ —É—Å–ª—É–≥—É –±–µ–∑ –ø—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω–æ–π –∑–∞–ø–∏—Å–∏</p>
                    </div>
                </div>

                <!-- –í—ã–±–æ—Ä –¥–∞—Ç—ã –∏ –≤—Ä–µ–º–µ–Ω–∏ -->
                <div v-if="bookingType === 'appointment'" class="appointment-booking">
                    <h3>–í—ã–±–µ—Ä–∏—Ç–µ –¥–∞—Ç—É –∏ –≤—Ä–µ–º—è</h3>
                    <div class="date-picker">
                        <label>–î–∞—Ç–∞:</label>
                        <input type="date" v-model="selectedDate" :min="today">
                    </div>
                    
                    <div v-if="selectedDate" class="time-slots">
                        <h4>–î–æ—Å—Ç—É–ø–Ω–æ–µ –≤—Ä–µ–º—è:</h4>
                        <div class="time-grid">
                            <button 
                                v-for="time in availableTimeSlots" 
                                :key="time"
                                @click="selectedTime = time"
                                class="time-slot"
                                :class="{ 'selected': selectedTime === time }"
                            >
                                {{ time }}
                            </button>
                        </div>
                    </div>
                </div>

                <!-- –ñ–∏–≤–∞—è –æ—á–µ—Ä–µ–¥—å -->
                <div v-if="bookingType === 'queue'" class="queue-booking">
                    <div class="queue-info">
                        <h3>–¢–µ–∫—É—â–∞—è –æ—á–µ—Ä–µ–¥—å</h3>
                        <p>–ß–µ–ª–æ–≤–µ–∫ –≤ –æ—á–µ—Ä–µ–¥–∏: <strong>{{ queueLength }}</strong></p>
                        <p>–ü—Ä–∏–º–µ—Ä–Ω–æ–µ –≤—Ä–µ–º—è –æ–∂–∏–¥–∞–Ω–∏—è: <strong>{{ estimatedWaitTime }} –º–∏–Ω</strong></p>
                    </div>
                </div>

                <div class="navigation">
                    <button @click="prevStep()" class="btn btn-secondary">–ù–∞–∑–∞–¥</button>
                    <button 
                        v-if="canProceed" 
                        @click="confirmBooking()" 
                        class="btn btn-primary"
                    >
                        –ü–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç—å –∑–∞–ø–∏—Å—å
                    </button>
                </div>
            </div>

            <!-- –®–∞–≥ 4: –ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ -->
            <div v-if="currentStep === 4" class="step confirmation">
                <h2>‚úÖ –ó–∞–ø–∏—Å—å –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∞!</h2>
                <div class="booking-summary">
                    <h3>–î–µ—Ç–∞–ª–∏ –∑–∞–ø–∏—Å–∏:</h3>
                    <p><strong>–°–ø—Ä–∞–≤–∫–∞:</strong> {{ selectedCertificate.name }}</p>
                    <p><strong>–£—Å–ª—É–≥–∞:</strong> {{ selectedService.name }}</p>
                    <p v-if="bookingType === 'appointment'">
                        <strong>–î–∞—Ç–∞ –∏ –≤—Ä–µ–º—è:</strong> {{ formattedDateTime }}
                    </p>
                    <p v-if="bookingType === 'queue'">
                        <strong>–¢–∏–ø –∑–∞–ø–∏—Å–∏:</strong> –ñ–∏–≤–∞—è –æ—á–µ—Ä–µ–¥—å
                    </p>
                    <p><strong>–û–±—â–∞—è —Å—Ç–æ–∏–º–æ—Å—Ç—å:</strong> {{ totalCost }} —Ä—É–±.</p>
                </div>
                
                <div class="actions">
                    <button @click="resetForm()" class="btn btn-primary">–ù–æ–≤–∞—è –∑–∞–ø–∏—Å—å</button>
                    <button @click="printBooking()" class="btn btn-secondary">–†–∞—Å–ø–µ—á–∞—Ç–∞—Ç—å —Ç–∞–ª–æ–Ω</button>
                </div>
            </div>
        </div>
    </div>

    <script src="main.js"></script>
</body>
</html> 